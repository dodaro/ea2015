/*C3*/SET SCHEMA PUBLIC
alter table purchases drop constraint FK_8dkbxnsb5b3kam4gcsttotpl0
alter table purchases drop constraint FK_au5pdr8gg6ejov765giah9mkd
drop table products if exists
drop table purchases if exists
drop table users if exists
create table products (id_product integer generated by default as identity (start with 1), description varchar(255) not null, name varchar(255) not null, price float not null, primary key (id_product))
create table purchases (id integer generated by default as identity (start with 1), date date not null, id_product integer, id_user integer, primary key (id))
create table users (id_user integer generated by default as identity (start with 1), birth_date date not null, first_name varchar(255) not null, last_name varchar(255) not null, password varchar(255) not null, username varchar(255) not null, primary key (id_user))
alter table users add constraint UK_r43af9ap4edm43mmtq01oddj6  unique (username)
alter table purchases add constraint FK_8dkbxnsb5b3kam4gcsttotpl0 foreign key (id_product) references products
alter table purchases add constraint FK_au5pdr8gg6ejov765giah9mkd foreign key (id_user) references users
