/*C2*/SET SCHEMA PUBLIC
alter table products drop constraint FK_inug2pv61jdbcqeie3pd8kldn
alter table purchases drop constraint FK_3ihkl3k7om3dhg2nhrvwguafg
drop table products if exists
drop table purchases if exists
drop table users if exists
create table products (id bigint generated by default as identity (start with 1), name varchar(255) not null, price float not null, purchase bigint, primary key (id))
create table purchases (id bigint generated by default as identity (start with 1), date date not null, user bigint, primary key (id))
create table users (id bigint generated by default as identity (start with 1), city varchar(255) not null, password varchar(255) not null, username varchar(255) not null, primary key (id))
alter table users add constraint UK_r53o2ojjw4fikudfnsuuga336  unique (password)
alter table users add constraint UK_r43af9ap4edm43mmtq01oddj6  unique (username)
alter table products add constraint FK_inug2pv61jdbcqeie3pd8kldn foreign key (purchase) references purchases on delete cascade
alter table purchases add constraint FK_3ihkl3k7om3dhg2nhrvwguafg foreign key (user) references users on delete cascade
