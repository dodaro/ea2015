/*C2*/SET SCHEMA PUBLIC
alter table belongs drop constraint FK_qklswj24p8mhflwex4m7lwh48
alter table belongs drop constraint FK_c9ggnlx9bi5saauep5ey6nnxo
alter table purchases drop constraint FK_3ihkl3k7om3dhg2nhrvwguafg
drop table belongs if exists
drop table products if exists
drop table purchases if exists
drop table users if exists
create table belongs (id bigint generated by default as identity (start with 1), product bigint, purchase bigint, primary key (id))
create table products (id bigint generated by default as identity (start with 1), name varchar(255) not null, price float not null, primary key (id))
create table purchases (id bigint generated by default as identity (start with 1), date date not null, user bigint, primary key (id))
create table users (id bigint generated by default as identity (start with 1), city varchar(255) not null, password varchar(255) not null, username varchar(255) not null, primary key (id))
alter table users add constraint UK_r53o2ojjw4fikudfnsuuga336  unique (password)
alter table users add constraint UK_r43af9ap4edm43mmtq01oddj6  unique (username)
alter table belongs add constraint FK_qklswj24p8mhflwex4m7lwh48 foreign key (product) references products
alter table belongs add constraint FK_c9ggnlx9bi5saauep5ey6nnxo foreign key (purchase) references purchases on delete cascade
alter table purchases add constraint FK_3ihkl3k7om3dhg2nhrvwguafg foreign key (user) references users on delete cascade
