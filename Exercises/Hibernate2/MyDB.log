/*C3*/SET SCHEMA PUBLIC
alter table purchase drop constraint FK_q1c41k3oyjlfiai5h604s9oby
alter table purchase drop constraint FK_olxkleg6p4cry3qlcex07kh0y
drop table products if exists
drop table purchase if exists
drop table users if exists
create table products (id integer generated by default as identity (start with 1), category varchar(255) not null, description varchar(255) not null, discountPercentage double, idStore integer not null, name varchar(255) not null, price double not null, producer varchar(255) not null, primary key (id))
create table purchase (id integer generated by default as identity (start with 1), date date not null, product integer, user integer, primary key (id))
create table users (id integer generated by default as identity (start with 1), address varchar(255) not null, birth date not null, name varchar(255) not null, password varchar(255) not null, surname varchar(255) not null, username varchar(255) not null, primary key (id))
alter table users add constraint UK_r43af9ap4edm43mmtq01oddj6  unique (username)
alter table purchase add constraint FK_q1c41k3oyjlfiai5h604s9oby foreign key (product) references products on delete cascade
alter table purchase add constraint FK_olxkleg6p4cry3qlcex07kh0y foreign key (user) references users on delete cascade
INSERT INTO USERS VALUES(1,'address1','1970-01-01','name1','password1','surname1','username1')
COMMIT
INSERT INTO PRODUCTS VALUES(1,'category1','description1',3.0E0,4,'name1',2.0E0,'producer1')
COMMIT
INSERT INTO USERS VALUES(2,'address2','1970-01-01','name2','password2','surname2','username2')
COMMIT
INSERT INTO PRODUCTS VALUES(2,'category2','description2',4.0E0,5,'name2',3.0E0,'producer2')
COMMIT
INSERT INTO USERS VALUES(3,'address3','1970-01-01','name3','password3','surname3','username3')
COMMIT
INSERT INTO PRODUCTS VALUES(3,'category3','description3',5.0E0,6,'name3',4.0E0,'producer3')
COMMIT
INSERT INTO USERS VALUES(4,'address4','1970-01-01','name4','password4','surname4','username4')
COMMIT
INSERT INTO PRODUCTS VALUES(4,'category4','description4',6.0E0,7,'name4',5.0E0,'producer4')
COMMIT
INSERT INTO USERS VALUES(5,'address5','1970-01-01','name5','password5','surname5','username5')
COMMIT
INSERT INTO PRODUCTS VALUES(5,'category5','description5',7.0E0,8,'name5',6.0E0,'producer5')
COMMIT
INSERT INTO USERS VALUES(6,'address6','1970-01-01','name6','password6','surname6','username6')
COMMIT
INSERT INTO PRODUCTS VALUES(6,'category6','description6',8.0E0,9,'name6',7.0E0,'producer6')
COMMIT
INSERT INTO USERS VALUES(7,'address7','1970-01-01','name7','password7','surname7','username7')
COMMIT
INSERT INTO PRODUCTS VALUES(7,'category7','description7',9.0E0,10,'name7',8.0E0,'producer7')
COMMIT
INSERT INTO USERS VALUES(8,'address8','1970-01-01','name8','password8','surname8','username8')
COMMIT
INSERT INTO PRODUCTS VALUES(8,'category8','description8',10.0E0,11,'name8',9.0E0,'producer8')
COMMIT
INSERT INTO USERS VALUES(9,'address9','1970-01-01','name9','password9','surname9','username9')
COMMIT
INSERT INTO PRODUCTS VALUES(9,'category9','description9',11.0E0,12,'name9',10.0E0,'producer9')
COMMIT
INSERT INTO USERS VALUES(10,'address10','1970-01-01','name10','password10','surname10','username10')
COMMIT
INSERT INTO PRODUCTS VALUES(10,'category10','description10',12.0E0,13,'name10',11.0E0,'producer10')
COMMIT
INSERT INTO USERS VALUES(11,'address11','1970-01-01','name11','password11','surname11','username11')
COMMIT
INSERT INTO PRODUCTS VALUES(11,'category11','description11',13.0E0,14,'name11',12.0E0,'producer11')
COMMIT
INSERT INTO USERS VALUES(12,'address12','1970-01-01','name12','password12','surname12','username12')
COMMIT
INSERT INTO PRODUCTS VALUES(12,'category12','description12',14.0E0,15,'name12',13.0E0,'producer12')
COMMIT
INSERT INTO USERS VALUES(13,'address13','1970-01-01','name13','password13','surname13','username13')
COMMIT
INSERT INTO PRODUCTS VALUES(13,'category13','description13',15.0E0,16,'name13',14.0E0,'producer13')
COMMIT
INSERT INTO USERS VALUES(14,'address14','1970-01-01','name14','password14','surname14','username14')
COMMIT
INSERT INTO PRODUCTS VALUES(14,'category14','description14',16.0E0,17,'name14',15.0E0,'producer14')
COMMIT
INSERT INTO USERS VALUES(15,'address15','1970-01-01','name15','password15','surname15','username15')
COMMIT
INSERT INTO PRODUCTS VALUES(15,'category15','description15',17.0E0,18,'name15',16.0E0,'producer15')
COMMIT
INSERT INTO USERS VALUES(16,'address16','1970-01-01','name16','password16','surname16','username16')
COMMIT
INSERT INTO PRODUCTS VALUES(16,'category16','description16',18.0E0,19,'name16',17.0E0,'producer16')
COMMIT
INSERT INTO USERS VALUES(17,'address17','1970-01-01','name17','password17','surname17','username17')
COMMIT
INSERT INTO PRODUCTS VALUES(17,'category17','description17',19.0E0,20,'name17',18.0E0,'producer17')
COMMIT
INSERT INTO USERS VALUES(18,'address18','1970-01-01','name18','password18','surname18','username18')
COMMIT
INSERT INTO PRODUCTS VALUES(18,'category18','description18',20.0E0,21,'name18',19.0E0,'producer18')
COMMIT
INSERT INTO USERS VALUES(19,'address19','1970-01-01','name19','password19','surname19','username19')
COMMIT
INSERT INTO PRODUCTS VALUES(19,'category19','description19',21.0E0,22,'name19',20.0E0,'producer19')
COMMIT
INSERT INTO USERS VALUES(20,'address20','1970-01-01','name20','password20','surname20','username20')
COMMIT
INSERT INTO PRODUCTS VALUES(20,'category20','description20',22.0E0,23,'name20',21.0E0,'producer20')
COMMIT
INSERT INTO USERS VALUES(21,'address21','1970-01-01','name21','password21','surname21','username21')
COMMIT
INSERT INTO PRODUCTS VALUES(21,'category21','description21',23.0E0,24,'name21',22.0E0,'producer21')
COMMIT
INSERT INTO USERS VALUES(22,'address22','1970-01-01','name22','password22','surname22','username22')
COMMIT
INSERT INTO PRODUCTS VALUES(22,'category22','description22',24.0E0,25,'name22',23.0E0,'producer22')
COMMIT
INSERT INTO USERS VALUES(23,'address23','1970-01-01','name23','password23','surname23','username23')
COMMIT
INSERT INTO PRODUCTS VALUES(23,'category23','description23',25.0E0,26,'name23',24.0E0,'producer23')
COMMIT
INSERT INTO USERS VALUES(24,'address24','1970-01-01','name24','password24','surname24','username24')
COMMIT
INSERT INTO PRODUCTS VALUES(24,'category24','description24',26.0E0,27,'name24',25.0E0,'producer24')
COMMIT
INSERT INTO USERS VALUES(25,'address25','1970-01-01','name25','password25','surname25','username25')
COMMIT
INSERT INTO PRODUCTS VALUES(25,'category25','description25',27.0E0,28,'name25',26.0E0,'producer25')
COMMIT
INSERT INTO USERS VALUES(26,'address26','1970-01-01','name26','password26','surname26','username26')
COMMIT
INSERT INTO PRODUCTS VALUES(26,'category26','description26',28.0E0,29,'name26',27.0E0,'producer26')
COMMIT
INSERT INTO USERS VALUES(27,'address27','1970-01-01','name27','password27','surname27','username27')
COMMIT
INSERT INTO PRODUCTS VALUES(27,'category27','description27',29.0E0,30,'name27',28.0E0,'producer27')
COMMIT
INSERT INTO USERS VALUES(28,'address28','1970-01-01','name28','password28','surname28','username28')
COMMIT
INSERT INTO PRODUCTS VALUES(28,'category28','description28',30.0E0,31,'name28',29.0E0,'producer28')
COMMIT
INSERT INTO USERS VALUES(29,'address29','1970-01-01','name29','password29','surname29','username29')
COMMIT
INSERT INTO PRODUCTS VALUES(29,'category29','description29',31.0E0,32,'name29',30.0E0,'producer29')
COMMIT
INSERT INTO PURCHASE VALUES(1,'1971-12-25',1,1)
COMMIT
INSERT INTO PURCHASE VALUES(2,'1973-12-25',1,2)
COMMIT
INSERT INTO PURCHASE VALUES(3,'1973-12-25',4,3)
COMMIT
INSERT INTO PURCHASE VALUES(4,'1971-12-25',4,1)
COMMIT
INSERT INTO PURCHASE VALUES(5,'1974-12-25',5,1)
COMMIT
INSERT INTO PURCHASE VALUES(6,'1973-12-25',1,2)
COMMIT
INSERT INTO PURCHASE VALUES(7,'1973-12-25',3,1)
COMMIT
DELETE FROM USERS WHERE ID=1
DELETE FROM PURCHASE WHERE ID=1
DELETE FROM PURCHASE WHERE ID=4
DELETE FROM PURCHASE WHERE ID=5
DELETE FROM PURCHASE WHERE ID=7
COMMIT
